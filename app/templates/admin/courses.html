{% extends "base.html" %}

{% block content %}
<h1>Manage Courses</h1>
<p><a href="/admin">â† Back to Admin Dashboard</a></p>

<h2>Add New Course</h2>
<form action="/admin/courses/add" method="post">
    <input type="text" name="code" placeholder="Course Code (e.g., MATH101)" required>
    <input type="text" name="name" placeholder="Course Name" required>
    <select name="teacher_id" required>
        <option value="">-- Select Teacher --</option>
        {% for teacher in teachers %}
        <option value="{{ teacher.id }}">{{ teacher.username }}</option>
        {% endfor %}
    </select>
    <button type="submit">Add Course</button>
</form>

<h2>Current Courses</h2>
<table>
    <tr>
        <th>ID</th>
        <th>Code</th>
        <th>Name</th>
        <th>Teacher</th>
    </tr>
    {% for course in courses %}
    <tr>
        <td>{{ course.id }}</td>
        <td>{{ course.code }}</td>
        <td>{{ course.name }}</td>
        <td>{{ course.teacher.username if course.teacher else 'N/A' }}</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}