{% extends "base.html" %}

{% block content %}
<h1>Session Report: {{ session.course_name }}</h1>
<p>Status: {{ "Active" if session.is_active else "Ended" }}</p>

<h3>Attendance List</h3>
<div style="margin-bottom: 15px;">
    <a href="/dashboard/session/{{ session.id }}/export"
        style="background: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;">üì•
        Export CSV</a>
    <button onclick="window.print()" style="margin-left: 10px;">üñ®Ô∏è Print</button>
</div>
<table>
    <tr>
        <th>Student Name</th>
        <th>Student ID</th>
        <th>Status</th>
        <th>Time Recognized</th>
        <th>Confidence</th>
    </tr>
    {% for log in logs %}
    <tr>
        <td>{{ log.student.full_name }}</td>
        <td>{{ log.student.student_id }}</td>
        <td>{{ log.status }}</td>
        <td>{{ log.timestamp.strftime('%H:%M:%S') }}</td>
        <td>{{ "%.2f"|format(log.confidence_score) if log.confidence_score else "N/A" }}</td>
    </tr>
    {% endfor %}
</table>

<a href="/dashboard">‚Üê Back to Dashboard</a>
{% endblock %}